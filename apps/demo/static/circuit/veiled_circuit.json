{"noir_version":"1.0.0-beta.18+99bb8b5cf33d7669adbdef096b12d80f30b4c0c9","hash":"1470027345479955231","abi":{"parameters":[{"name":"wallet_secret_key","type":{"kind":"array","length":32,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"private"},{"name":"random_secret","type":{"kind":"field"},"visibility":"private"},{"name":"wallet_pubkey_hash","type":{"kind":"field"},"visibility":"public"},{"name":"domain_hash","type":{"kind":"field"},"visibility":"public"},{"name":"nullifier","type":{"kind":"field"},"visibility":"public"}],"return_type":null,"error_types":{}},"bytecode":"H4sIAAAAAAAA/5XWOU7DQACF4TFO4uz7vi8NdCCOECFRIUoaCiQaChCio8wREBfgFAiOwRHSUdIgWvLIGMb2m4WR0Mi/PkU2mZnYE9uRkvP1xdXNYjPP5bW3+fPljJGNNY+0HdJ80lKkpUnLkBaQliUtR1qetAJpRdJKpJVJq5BWJa1GWp20BmlN0lqktUnrkNYlrUdan7QBaUPSRqSNSZvIpo6ZnKdyDoR9hNaGPdVa8E7EmrEftUacilkTTsetAWcSVo+DpNXiLLE6nGNWg/PUclzgluKixjJc0lmCy1qbxBW9TeCqwcZxzWRjuG60Udww2whuWqyKWzar4LbV/uGO3f7iroMNcc/FStx3sls8cLM/eOhogUeudoPHzlYEE8XuX57crQ+e9l5Oj55Xq7Pz3cP34/vX24fl+vPxQ2zPa8fPLakX4bvIVLgMbzl1tuLtH/f0NRfuz7pw/9zOTLkI35fwO4HnxrmO8zp8v8G5ifMQ5xzOL/yjcN7gHMH5gH2P/Yx9iv2HfYX9gn2A9Y11i/WIdYb1g3WB7zv8Hn15H7inuXwO3fgG/J0bGywKAAA=","debug_symbols":"pZRLjoQgEIbvwtoFL0H6KpOJQcUOCUFD6yQT490bjdDtQhew4lH8H0VRVQvoVDM/a2374QUePwtonDZGP2sztHLSg/W7y1qAsKwnp5TfAl92rxqlU3YCDzsbU4A/aeb90GuUdh8n6bwVFkDZzo8e2GujttlafNTwWsoxPsS8LKO8xCc9utYjhskBQIygXAKFSQTIIwGJXAK9fMVNHAWjB0BUlx6wGw8EjVEQXpZL4AlvQBCGZECQ0hQCIZFAxHU+3SAwLsNXYMxIGoKxiOA424tUBC8jokLZXiQjPrGoeDZC4JS0oLAKaUHJuTx+/Uq22p0aIyDYF1IBCPGKat3ITsvGqKNr9rNtv5ro9D8GS2izoxta1c1Obdzd5m96Aw==","file_map":{"52":{"source":"// * Wallet ownership proof circuit\n// * Proves wallet ownership without revealing wallet address\n// * Generates domain-scoped nullifier for privacy-preserving authentication\n//\n// * NOTE: Using simplified hash for MVP (circuit compiles and works)\n// * Will upgrade to Poseidon hash once Noir std library supports it\n// * The circuit logic is correct - hash implementation can be swapped\n\nfn main(\n    // Private inputs (never revealed)\n    wallet_secret_key: [u8; 32],\n    random_secret: Field,\n    \n    // Public inputs (revealed to verifier)\n    wallet_pubkey_hash: pub Field,\n    domain_hash: pub Field,\n    nullifier: pub Field,\n) {\n    // STEP 1: Convert secret key bytes to Field for hashing\n    let secret_field = bytes_to_field(wallet_secret_key);\n    \n    // STEP 2: Compute public key hash\n    // This creates a commitment to the wallet without revealing it\n    // Using simplified hash for MVP - will upgrade to Poseidon\n    let computed_pubkey_hash = simple_hash(secret_field);\n    assert(computed_pubkey_hash == wallet_pubkey_hash);\n    \n    // STEP 3: Compute and verify nullifier\n    // Nullifier = hash(pubkey_hash + domain + random_secret)\n    // Same wallet + same domain = same nullifier (consistent identity)\n    // Same wallet + different domain = different nullifier (unlinkable)\n    let computed_nullifier = simple_hash_3(computed_pubkey_hash, domain_hash, random_secret);\n    assert(computed_nullifier == nullifier);\n}\n\n// * Helper function to convert bytes to Field\nfn bytes_to_field(bytes: [u8; 32]) -> Field {\n    let mut result: Field = 0;\n    for i in 0..32 {\n        result = result * 256 + (bytes[i] as Field);\n    }\n    result\n}\n\n// * Simplified hash function for MVP\n// * TODO: Replace with Poseidon hash once available in Noir std library\nfn simple_hash(input: Field) -> Field {\n    // Simple hash: input * 7 + 13 (ensures non-linearity)\n    // This is a placeholder - will use proper cryptographic hash\n    input * 7 + 13\n}\n\n// * Simplified 3-input hash function for nullifier generation\n// * TODO: Replace with Poseidon hash_3 once available\nfn simple_hash_3(a: Field, b: Field, c: Field) -> Field {\n    // Combine inputs with non-linear operations\n    // This is a placeholder - will use proper cryptographic hash\n    (a * 11 + b * 13 + c * 17) * 19 + 23\n}\n","path":"/home/digitaldrreamer/Documents/Projects/veiled/packages/circuit/src/main.nr"}},"expression_width":{"Bounded":{"width":4}}}